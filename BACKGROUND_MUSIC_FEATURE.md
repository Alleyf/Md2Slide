# 背景音乐功能说明

## 功能概述
为网页添加了背景音乐播放器，提供沉浸式的音频体验，同时集成了音乐可视化效果，让网页更具动感。

## 功能特点
- 音乐播放器位于页面左下角，默认收起吸附状态
- 支持播放/暂停、进度控制、音量调节
- 音乐可视化效果（音频频谱分析）
- 优雅的UI设计，适配深色/浅色主题
- 与现有界面无缝集成
- 播放器可拖动到任意位置
- 拖动结束后自动吸附到最近的屏幕边缘
- 支持音乐循环播放
- 播放时图标会根据音乐节拍变化颜色，收起状态下显示简约音乐图标
- 鼠标悬停时展开控制面板，鼠标离开后自动收起（即使在播放状态下）
- 支持播放列表，可切换音乐
- 美化的UI设计，更小巧精致
- 改进的拖动体验，有专用拖动区域

## 默认音乐
- 默认使用 `public/music/风止了.mp3` 作为背景音乐
- 如需更换音乐，请替换此文件或修改 `MusicPlayer.tsx` 中的默认路径

## 技术实现
- 使用 HTML5 Audio API 实现音频播放
- Canvas API 实现音频可视化效果
- Web Audio API 实现频谱分析
- React hooks 实现状态管理和生命周期控制
- 与现有的主题系统完全集成

## 控制方式
- 点击右下角音乐图标可展开播放器控制
- 播放器会自动检测音频并显示进度
- 音量控制可实时调整
- 可视化效果仅在播放时激活