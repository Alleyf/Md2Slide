<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3Blue1Brown Style Presentation</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts for Latin Modern Roman, Inter, and Fira Code -->
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=Inter:wght@300;400;500;700&family=Latin+Modern+Roman:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Tailwind Configuration Extension */
    html {
      --manim-blue: #58C4DD;
      --manim-yellow: #E2B026;
      --manim-bg: #0e1117;
      --manim-text: #ffffff;
    }

    /* Base styles to match 3b1b theme */
    body {
      background-color: var(--manim-bg);
      color: var(--manim-text);
      font-family: 'Inter', sans-serif;
      overflow: hidden; /* Hide scrollbars for presentation */
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Latin Modern Roman', serif !important;
      font-weight: 700;
    }

    .font-serif-display { font-family: 'Latin Modern Roman', serif; }
    .font-sans-body { font-family: 'Inter', sans-serif; }
    .font-mono-code { font-family: 'Fira Code', monospace; }

    .text-manim-blue { color: var(--manim-blue); }
    .text-manim-yellow { color: var(--manim-yellow); }
    .bg-manim-blue { background-color: var(--manim-blue); }
    .bg-manim-yellow { background-color: var(--manim-yellow); }

    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 4rem;
      transition: opacity 0.8s ease-in-out;
      opacity: 0;
      pointer-events: none;
      box-sizing: border-box;
    }

    .slide.active {
      opacity: 1;
      pointer-events: all;
    }

    /* Animation for vector growth */
    @keyframes vector-grow {
      0% { width: 0; opacity: 0; }
      70% { width: 120px; opacity: 1; }
      85% { width: 130px; } /* slight overshoot for spring */
      100% { width: 120px; }
    }

    .vector-animated {
      animation: none; /* Default state */
      transition: all 0.5s ease-out; /* For general properties */
    }

    .slide-1-click-1 .vector-animated {
      animation: vector-grow 1s cubic-bezier(.17,.84,.44,1) forwards; /* Spring-like animation */
    }

    /* Animation for grid transformation */
    .grid-transform {
      transition: transform 1s cubic-bezier(0.68, -0.55, 0.27, 1.55), border-color 1s ease-in-out;
    }

    .slide-2-click-1 .grid-transform {
      transform: skewX(12deg) scale(1.1) rotate(12deg);
      border-color: #3B82F6; /* blue-500 */
    }

    /* Code highlighting */
    .code-line {
      transition: opacity 0.3s ease-in-out;
      opacity: 0.4;
    }
    .code-line.active-highlight {
      opacity: 1;
      font-weight: 700;
    }
    .code-line.dimmed {
      opacity: 0.2;
    }
    
    /* Global click animations for list items */
    .click-item {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }
    .click-item.revealed {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <!-- Slide 0: Cover Slide -->
  <div id="slide-0" class="slide active">
    <h1 class="text-6xl md:text-8xl font-serif-display text-center">
      The Essence of <span class="text-manim-blue">Linear Algebra</span>
    </h1>
    <div class="opacity-50 text-xl md:text-2xl mt-4 font-sans-body">Visualizing Transformations</div>

    <div id="slide-0-click-0" class="mt-20 click-item">
      <span class="text-manim-yellow italic text-3xl md:text-4xl font-sans-body">A Geometric Intuition</span>
    </div>

    <div id="slide-0-press-space" class="absolute bottom-10 w-full text-center opacity-30 text-lg md:text-xl transition-opacity duration-1000 ease-in-out">
      Press Space to continue
    </div>
  </div>

  <!-- Slide 1: What is a Vector? -->
  <div id="slide-1" class="slide">
    <h1 class="text-5xl md:text-6xl font-serif-display mb-10 text-center">
      What is a <span class="text-manim-blue">Vector</span>?
    </h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 mt-10 w-full max-w-5xl items-center">
      
      <!-- Left: Explanatory Text -->
      <div class="text-left font-sans-body text-xl md:text-2xl space-y-6">
        <ul>
          <li id="slide-1-click-0" class="click-item">
            To a <span class="text-manim-yellow">Physicist</span>:
            <br> <span class="text-lg opacity-70 font-sans-body">An arrow with length and direction.</span>
          </li>
          <li id="slide-1-click-1" class="click-item">
            To a <span class="text-manim-blue">CS Student</span>:
            <br> <span class="text-lg opacity-70 font-sans-body">An ordered list of numbers.</span>
          </li>
          <li id="slide-1-click-2" class="click-item">
            To a <span class="text-green-400">Mathematician</span>:
            <br> <span class="text-lg opacity-70 font-sans-body">Anything that behaves like an arrow.</span>
          </li>
        </ul>
      </div>

      <!-- Right: Visual Animation Area -->
      <div class="relative h-60 w-60 mx-auto md:mx-0 border-l-2 border-b-2 border-gray-600 self-center">
        <!-- Grid Lines (Static Background) -->
        <div class="absolute inset-0 grid grid-cols-4 grid-rows-4 opacity-20">
          <div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div>
          <div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div>
          <div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div>
          <div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div><div class="border border-gray-500"></div>
        </div>

        <!-- The Vector (Animated) -->
        <div 
          id="slide-1-vector"
          class="vector-animated absolute bottom-0 left-0 h-1 bg-manim-yellow origin-bottom-left shadow-[0_0_15px_rgba(226,176,38,0.6)]"
          style="transform-origin: 0 0; transform: rotate(-35deg);"
        >
          <!-- Arrow Head -->
          <div class="absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 border-t-2 border-r-2 bg-manim-yellow border-manim-yellow rotate-45"></div>
        </div>

        <!-- Coordinates (The "List" View) -->
        <div 
          id="slide-1-coords"
          class="absolute top-10 right-0 bg-gray-800 p-2 rounded border border-manim-blue font-mono-code text-blue-300 transition-opacity duration-500 ease-in-out"
          style="opacity: 0;"
        >
          [ 2, 3 ]
        </div>
      </div>
    </div>
  </div>

  <!-- Slide 2: Linear Transformations -->
  <div id="slide-2" class="slide">
    <h1 class="text-5xl md:text-6xl font-serif-display text-center">
      Linear <span class="text-manim-yellow">Transformations</span>
    </h1>
    <p class="text-lg md:text-xl mt-4 text-center font-sans-body">
      The core idea is moving space itself. Grid lines remain parallel and evenly spaced.
    </p>

    <!-- Interactive Visual Playground -->
    <div class="relative mt-8 h-80 w-full max-w-2xl bg-gray-900 overflow-hidden rounded-lg border border-gray-700 flex justify-center items-center">
      
      <div 
        id="slide-2-grid"
        class="grid-transform relative w-40 h-40 grid grid-cols-4 grid-rows-4 border border-gray-600"
      >
        <!-- Vector inside the space -->
        <div 
          class="absolute bottom-0 left-0 h-1 bg-manim-yellow origin-bottom-left"
          style="width: 80%; transform: rotate(-45deg);"
        ></div>

        <!-- The "i-hat" basis vector (Green) -->
        <div class="absolute bottom-0 left-0 h-1 w-10 bg-green-500"></div>
        <!-- The "j-hat" basis vector (Red) -->
        <div class="absolute bottom-0 left-0 h-10 w-1 bg-red-500"></div>
      </div>
    </div>

    <div class="text-center mt-4 text-gray-400 text-sm md:text-base font-sans-body">
      <span id="slide-2-text-0" class="transition-opacity duration-500">Basis vectors define the grid.</span>
      <span id="slide-2-text-1" class="text-manim-yellow transition-opacity duration-500 opacity-0 absolute">The transformation morphs the entire grid.</span>
    </div>
  </div>

  <!-- Slide 3: Code as "Magic Move" -->
  <div id="slide-3" class="slide">
    <h1 class="text-5xl md:text-6xl font-serif-display text-center mb-8">
      Code as "<span class="text-manim-blue">Magic Move</span>"
    </h1>

    <div class="relative bg-gray-900 p-6 rounded-lg shadow-xl w-full max-w-xl mx-auto font-mono-code text-gray-200 text-lg md:text-xl leading-relaxed">
      <pre>
        <div id="code-line-0" class="code-line"># Defining a Linear Transformation in Manim</div>
        <div id="code-line-1" class="code-line">class LinearTransformation(LinearTransformationScene):</div>
        <div id="code-line-2" class="code-line">    def construct(self):</div>
        <div id="code-line-3" class="code-line">        matrix = [[1, 1], [0, 1]]  # A shear matrix</div>
        <div id="code-line-4" class="code-line">        self.apply_matrix(matrix)</div>
        <div id="code-line-5" class="code-line">        self.wait()</div>
      </pre>
    </div>
  </div>

  <!-- Slide 4: In Summary -->
  <div id="slide-4" class="slide">
    <h1 class="text-5xl md:text-6xl font-serif-display text-center mb-10">
      In Summary
    </h1>

    <div class="text-left inline-block font-sans-body text-xl md:text-2xl space-y-4">
      <ul>
        <li id="slide-4-click-0" class="click-item">1. Vectors are arrows grounded in a coordinate system.</li>
        <li id="slide-4-click-1" class="click-item">2. Transformations manipulate the <span class="text-manim-blue">fabric of space</span>.</li>
        <li id="slide-4-click-2" class="click-item">3. Visual intuition comes before <span class="text-manim-yellow">computation</span>.</li>
      </ul>
    </div>

    <div class="mt-20 opacity-50 font-serif-display italic text-lg md:text-xl text-center">
      "Math is the art of giving the same name to different things."
    </div>
  </div>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'sans-body': ['Inter', 'sans-serif'],
            'serif-display': ['Latin Modern Roman', 'serif'],
            'mono-code': ['Fira Code', 'monospace'],
          },
          colors: {
            'manim-blue': 'var(--manim-blue)',
            'manim-yellow': 'var(--manim-yellow)',
            'manim-bg': 'var(--manim-bg)',
            'manim-text': 'var(--manim-text)',
          },
        }
      }
    }

    const slides = document.querySelectorAll('.slide');
    let currentSlideIndex = 0;
    let clickState = 0; // Tracks clicks within the current slide

    function updateSlideVisibility() {
      slides.forEach((slide, index) => {
        if (index === currentSlideIndex) {
          slide.classList.add('active');
        } else {
          slide.classList.remove('active');
        }
      });
      resetSlideAnimations();
      applyAnimationsForCurrentState();
    }

    function resetSlideAnimations() {
      // Reset all click-driven elements across all slides
      document.querySelectorAll('.click-item').forEach(el => {
        el.classList.remove('revealed');
      });
      document.getElementById('slide-1-vector').classList.remove('slide-1-click-1');
      document.getElementById('slide-1-coords').style.opacity = '0';
      document.getElementById('slide-2-grid').classList.remove('slide-2-click-1');
      document.getElementById('slide-2-text-0').style.opacity = '1';
      document.getElementById('slide-2-text-1').style.opacity = '0';
      document.getElementById('slide-0-press-space').style.opacity = '0.3'; // Reset
      
      document.querySelectorAll('.code-line').forEach(line => {
        line.classList.remove('active-highlight', 'dimmed');
        line.classList.add('opacity-40');
      });
    }

    function applyAnimationsForCurrentState() {
      // Slide 0: Cover Slide
      if (currentSlideIndex === 0) {
        if (clickState >= 0) {
          document.getElementById('slide-0-click-0').classList.add('revealed');
        }
        if (clickState === 0) {
          document.getElementById('slide-0-press-space').style.opacity = '0.3';
        } else {
          document.getElementById('slide-0-press-space').style.opacity = '0'; // Hide after first click
        }
      }

      // Slide 1: What is a Vector?
      else if (currentSlideIndex === 1) {
        if (clickState >= 0) document.getElementById('slide-1-click-0').classList.add('revealed');
        if (clickState >= 1) {
          document.getElementById('slide-1-click-1').classList.add('revealed');
          document.getElementById('slide-1-vector').classList.add('slide-1-click-1');
        }
        if (clickState >= 2) {
          document.getElementById('slide-1-click-2').classList.add('revealed');
          document.getElementById('slide-1-coords').style.opacity = '1';
        }
      }

      // Slide 2: Linear Transformations
      else if (currentSlideIndex === 2) {
        if (clickState >= 1) {
          document.getElementById('slide-2-grid').classList.add('slide-2-click-1');
          document.getElementById('slide-2-text-0').style.opacity = '0';
          document.getElementById('slide-2-text-1').style.opacity = '1';
        } else {
          document.getElementById('slide-2-text-0').style.opacity = '1';
          document.getElementById('slide-2-text-1').style.opacity = '0';
        }
      }

      // Slide 3: Code as "Magic Move"
      else if (currentSlideIndex === 3) {
        const codeLines = [
          document.getElementById('code-line-0'),
          document.getElementById('code-line-1'),
          document.getElementById('code-line-2'),
          document.getElementById('code-line-3'),
          document.getElementById('code-line-4'),
          document.getElementById('code-line-5'),
        ];
        
        // Reset all to dimmed initially
        codeLines.forEach(line => line.classList.remove('active-highlight', 'opacity-100', 'opacity-40'));
        codeLines.forEach(line => line.classList.add('dimmed'));

        if (clickState === 0) { // {1-2}
          codeLines[0].classList.remove('dimmed'); codeLines[0].classList.add('active-highlight');
          codeLines[1].classList.remove('dimmed'); codeLines[1].classList.add('active-highlight');
        } else if (clickState === 1) { // {3-4}
          codeLines[2].classList.remove('dimmed'); codeLines[2].classList.add('active-highlight');
          codeLines[3].classList.remove('dimmed'); codeLines[3].classList.add('active-highlight');
        } else if (clickState >= 2) { // {all}
          codeLines.forEach(line => {
            line.classList.remove('dimmed');
            line.classList.add('active-highlight');
          });
        }
      }

      // Slide 4: In Summary
      else if (currentSlideIndex === 4) {
        if (clickState >= 0) document.getElementById('slide-4-click-0').classList.add('revealed');
        if (clickState >= 1) document.getElementById('slide-4-click-1').classList.add('revealed');
        if (clickState >= 2) document.getElementById('slide-4-click-2').classList.add('revealed');
      }
    }

    function getClicksForSlide(slideIndex) {
      if (slideIndex === 0) return 1; // "A Geometric Intuition"
      if (slideIndex === 1) return 3; // 3 points + vector anim + coords
      if (slideIndex === 2) return 2; // initial + transformation
      if (slideIndex === 3) return 3; // {1-2} | {3-4} | {all}
      if (slideIndex === 4) return 3; // 3 summary points
      return 0;
    }

    function navigate(direction) {
      if (direction === 'next') {
        const maxClicks = getClicksForSlide(currentSlideIndex);
        if (clickState < maxClicks) {
          clickState++;
        } else if (currentSlideIndex < slides.length - 1) {
          currentSlideIndex++;
          clickState = 0;
        }
      } else if (direction === 'prev') {
        if (clickState > 0) {
          clickState--;
        } else if (currentSlideIndex > 0) {
          currentSlideIndex--;
          clickState = getClicksForSlide(currentSlideIndex); // Go to last click state of prev slide
        }
      }
      updateSlideVisibility();
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === ' ') { // Spacebar for next
        e.preventDefault();
        navigate('next');
      } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        navigate('next');
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        navigate('prev');
      }
    });

    // Initial load
    updateSlideVisibility();
  </script>
</body>
</html>
